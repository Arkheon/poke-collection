/* ===================== THEME ===================== */
:root{
  /* Couleurs de base (clair) */
  --bg:#f6f8fb;
  --panel:#ffffffcc;
  --ink:#0f172a;
  --muted:#64748b;
  --ring:#e2e8f0;

  /* Accent néon */
  --primary:#7c3aed;     /* violet */
  --accent:#22d3ee;      /* cyan */
  --ok:#10b981;
  --warn:#f59e0b;

  /* Tokens UI */
  --chip-bg: rgba(255,255,255,.08);
  --elev1: 0 2px 8px rgba(2,6,23,.05);
  --elev2: 0 8px 24px rgba(2,6,23,.06);
  --elevHover: 0 16px 46px rgba(34,211,238,.18);
}

.theme-dark{
  --bg:#0b1020;
  --panel:rgba(255,255,255,.06);
  --ink:#e6eaf2;
  --muted:#9aa3b2;
  --ring:rgba(255,255,255,.12);

  --chip-bg: rgba(255,255,255,.10);
  --elev1: 0 2px 8px rgba(0,0,0,.25);
  --elev2: 0 8px 26px rgba(0,0,0,.25);
  --elevHover: 0 18px 40px rgba(34,211,238,.16);
}

body.theme-light{
  --bg:#f6f8fb;
  --panel:#ffffff;
  --ink:#0f172a;
  --muted:#5f6b7e;
  --ring:rgba(15,23,42,.12);
  --chip-bg:rgba(15,23,42,.05);
  --elev1:0 4px 14px rgba(15,23,42,.08);
  --elev2:0 18px 40px rgba(59,130,246,.08);
  --elevHover:0 22px 50px rgba(124,58,237,.16);
}

*{box-sizing:border-box}
html,body{margin:0;min-height:100%}
body{
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  background:var(--bg); color:var(--ink); overflow-y:auto;
}
body.theme-dark{color-scheme:dark}
body.theme-light{color-scheme:light}

button,input,select,textarea{font-family:inherit}
body.theme-light select{color-scheme:light}
body.theme-dark select{color-scheme:dark}

/* ===================== FX FOND ===================== */
.bgfx{
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1200px 800px at 12% -18%, #ff2d8930 0%, transparent 35%),
    radial-gradient(1000px 800px at 108% 6%, #22d3ee30 0%, transparent 40%),
    radial-gradient(900px 700px at 50% 120%, #7c3aed30 0%, transparent 45%);
  filter:blur(60px) saturate(120%);
  opacity:.8;
}
body.theme-light .bgfx{
  background:
    radial-gradient(1200px 800px at 12% -18%, #ff7ec630 0%, transparent 35%),
    radial-gradient(1000px 800px at 110% 0%, #60a5fa30 0%, transparent 40%),
    radial-gradient(900px 700px at 50% 120%, #818cf830 0%, transparent 45%);
  opacity:.65;
}

/* ===================== HEADER ===================== */
.site-header{
  position:sticky; top:0; z-index:30;
  background:linear-gradient(to bottom, rgba(11,16,32,.86), rgba(11,16,32,.6));
  border-bottom:1px solid rgba(15,23,42,.5);
  backdrop-filter:blur(12px);
}
.theme-light .site-header{
  background:linear-gradient(to bottom, rgba(255,255,255,.92), rgba(255,255,255,.78));
  border-bottom:1px solid rgba(15,23,42,.08);
}
.site-header .wrap{max-width:1150px;margin:0 auto;padding:12px 20px;display:flex;align-items:center;gap:24px}
.brand{display:flex;align-items:center;gap:10px;color:#eef2ff;font-weight:700;font-size:18px;text-decoration:none}
.theme-light .brand{color:var(--ink)}
.brand span{letter-spacing:.02em}
.logo{width:24px;height:24px;border-radius:8px;background:conic-gradient(from 20deg,#ff2d89,#22d3ee,#7c3aed,#ff2d89);box-shadow:0 0 24px rgba(124,58,237,.45)}
.site-nav{display:flex;gap:22px;margin-left:auto;margin-right:auto;flex-wrap:wrap;justify-content:center}
.site-nav .nav-link{
  color:rgba(226,232,240,.75);
  text-decoration:none;
  font-weight:600;
  font-size:14px;
  position:relative;
  padding:6px 0;
  transition:color .2s ease;
}
.site-nav .nav-link::after{
  content:""; position:absolute; left:0; right:0; bottom:-8px; height:2px;
  background:linear-gradient(90deg,var(--accent),var(--primary));
  transform:scaleX(0); transform-origin:center;
  opacity:0; transition:opacity .2s ease, transform .2s ease;
}
.site-nav .nav-link:hover{color:#ffffff}
.site-nav .nav-link:hover::after{opacity:.35; transform:scaleX(.6)}
.theme-light .site-nav .nav-link{color:rgba(15,23,42,.62)}
.theme-light .site-nav .nav-link:hover{color:#0f172a}
.site-nav .nav-link.active{color:#ffffff}
.theme-light .site-nav .nav-link.active{color:#0f172a}
.site-nav .nav-link.active::after{opacity:1; transform:scaleX(1)}
.site-actions{display:flex;gap:12px;align-items:center}
.btn.theme-toggle{width:40px;height:40px;padding:0;min-width:40px;justify-content:center;font-size:18px;line-height:1}
.btn.theme-toggle .icon-moon{display:none}
body.theme-light .btn.theme-toggle .icon-sun{display:none}
body.theme-light .btn.theme-toggle .icon-moon{display:inline}
.btn.theme-toggle span{pointer-events:none}
.btn{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid var(--ring);border-radius:999px;
  padding:9px 12px;cursor:pointer;background:#ffffff10;color:#eef2ff;
  transition:transform .15s ease, box-shadow .2s ease, background .2s ease;
  text-decoration:none;
}
.btn:hover{transform:translateY(-1px);box-shadow:0 10px 30px rgba(34,211,238,.18)}
.btn.primary{border:0;background:linear-gradient(90deg, var(--primary), #ff2d89);box-shadow:0 10px 30px rgba(124,58,237,.30)}
.btn.outline{background:transparent;border:1px solid rgba(148,163,184,.48);color:#e2e8f0}
.btn.ghost{background:transparent}
body.theme-light .btn{background:rgba(15,23,42,.04);color:var(--ink);border-color:rgba(15,23,42,.12)}
body.theme-light .btn:hover{box-shadow:0 16px 34px rgba(59,130,246,.12)}
body.theme-light .btn.outline{border-color:rgba(15,23,42,.18);background:transparent;color:var(--ink)}
body.theme-light .btn.primary{
  color:#fff;
  background:linear-gradient(90deg, var(--primary), #ff2d89);
  box-shadow:0 16px 36px rgba(124,58,237,.25);
}
body.theme-light .btn.primary:hover{
  box-shadow:0 20px 44px rgba(124,58,237,.32);
}
body.theme-light .btn.theme-toggle{background:rgba(15,23,42,.06)}

/* ===================== HERO ===================== */
.hero-2025{
  padding:72px 16px 48px;
  background:linear-gradient(165deg, rgba(15,23,42,.92) 0%, rgba(15,23,42,.86) 55%, rgba(99,102,241,.22) 100%);
  color:#f8fafc;
}
.theme-light .hero-2025{
  background:linear-gradient(160deg, rgba(248,250,252,.98) 0%, rgba(234,242,255,.92) 52%, rgba(191,219,254,.65) 100%);
  color:var(--ink);
}
.hero-inner{
  max-width:960px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:28px;
  text-align:center;
  position:relative;
}
.hero-inner::after{
  content:""; position:absolute; inset:-42% 35% auto auto; width:280px; height:280px;
  background:radial-gradient(circle at center, rgba(124,58,237,.35) 0%, transparent 70%);
  filter:blur(22px); opacity:.8; pointer-events:none;
}
.hero-inner>*{position:relative;z-index:1}
.hero-badge{font-size:12px;letter-spacing:.32em;text-transform:uppercase;color:rgba(226,232,240,.75)}
.theme-light .hero-badge{color:rgba(15,23,42,.5)}
.hero-inner h1{margin:0;font-size:44px;line-height:1.05}
.theme-light .hero-inner h1{color:var(--ink)}
.hero-lede{margin:0;max-width:68ch;color:#cbd5f5}
.theme-light .hero-lede{color:#334155}
.hero-actions{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.hero-cta{padding:12px 22px;font-size:16px;font-weight:700}
.hero-stats{display:flex;gap:14px;flex-wrap:wrap;justify-content:center}
.hero-stat{display:flex;align-items:center;gap:14px;padding:18px 22px;border-radius:18px;border:1px solid rgba(148,163,184,.25);background:rgba(17,24,39,.72);min-width:220px;box-shadow:var(--elev1)}
.theme-light .hero-stat{background:rgba(255,255,255,.92);border-color:rgba(15,23,42,.08)}
.hero-stat-icon{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:14px;background:linear-gradient(140deg,var(--accent),var(--primary));color:#fff;font-size:20px;box-shadow:0 10px 22px rgba(76,29,149,.3)}
.theme-light .hero-stat-icon{box-shadow:0 10px 22px rgba(59,130,246,.18)}
.hero-stat-value{display:block;font-size:26px;font-weight:800;color:#f8fafc}
.hero-stat-label{display:block;font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:rgba(226,232,240,.65)}
.theme-light .hero-stat-value{color:var(--ink)}
.theme-light .hero-stat-label{color:rgba(15,23,42,.55)}
.hero-features{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;width:100%}
.hero-feature{display:flex;gap:12px;align-items:flex-start;padding:20px;border-radius:20px;border:1px solid rgba(148,163,184,.2);background:rgba(21,28,45,.78);text-align:left;box-shadow:var(--elev1)}
.theme-light .hero-feature{background:rgba(255,255,255,.94);border-color:rgba(15,23,42,.08)}
.hero-feature-icon{display:flex;align-items:center;justify-content:center;width:46px;height:46px;border-radius:15px;background:linear-gradient(145deg,var(--accent),#22d3ee);color:#fff;font-size:20px;flex-shrink:0;box-shadow:0 8px 22px rgba(45,212,191,.25)}
.hero-feature h3{margin:0 0 6px;font-size:16px;color:#f8fafc}
.hero-feature p{margin:0;color:#cbd5f5;font-size:13px;line-height:1.5}
.theme-light .hero-feature h3{color:var(--ink)}
.theme-light .hero-feature p{color:#475569}
.hero-update-note{margin:0;color:rgba(226,232,240,.8);font-size:12px;background:rgba(17,24,39,.7);border:1px solid rgba(148,163,184,.25);padding:10px 16px;border-radius:999px;display:inline-flex;gap:6px;align-items:center}
.theme-light .hero-update-note{color:rgba(15,23,42,.7);background:rgba(255,255,255,.9);border-color:rgba(15,23,42,.1)}
.hero-update-note[hidden]{display:none}

@media (max-width:720px){
  .hero-2025{padding:60px 16px 36px}
  .hero-inner h1{font-size:36px}
  .hero-stat{min-width:0;width:100%;justify-content:flex-start}
}

/* ===================== TABS (fix + glow) ===================== */
.tabs{
  max-width:1150px; margin:14px auto 0;
  display:grid; grid-template-columns:repeat(4,1fr);
  gap:12px; padding:0 16px;
}

.tab{
  position:relative; z-index:0; isolation:isolate; /* <- clé : empilement propre */
  overflow:hidden;
  display:flex; align-items:center; justify-content:center;
  padding:12px;
  border:1px solid var(--ring); border-radius:12px;
  background:var(--panel); color:var(--ink);
  text-align:center; cursor:pointer; user-select:none;
  transition:.2s ease; box-shadow:var(--elev1);
}
.tab:hover{ box-shadow:0 8px 20px rgba(34,211,238,.12); }

.tab.active{
  color:#fff;                      /* meilleur contraste sur le gradient */
  border:none;                     /* on laisse le gradient faire le contour */
}

/* gradient derrière le contenu */
.tab.active::before{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background:linear-gradient(90deg,var(--accent),var(--primary));
  z-index:-1;                      /* <- passe derrière le texte */
}

/* halo animé encore plus derrière */
.tab.active::after{
  content:""; position:absolute; inset:-2px; border-radius:inherit;
  background:linear-gradient(90deg,var(--accent),var(--primary));
  filter:blur(8px);
  animation:glowPulse 3s infinite alternate;
  z-index:-2;
}

@keyframes glowPulse{ 0%{opacity:.5} 100%{opacity:1} }


/* ===================== PANELS / CARTES ===================== */
.panel{max-width:1150px;margin:14px auto;padding:0 16px}
.card{border:1px solid var(--ring);border-radius:18px;background:var(--panel);box-shadow:var(--elev2)}
.card>h3{margin:0;padding:12px 14px;border-bottom:1px solid var(--ring);font-size:14px;background:rgba(255,255,255,.08);border-radius:18px 18px 0 0}
body.theme-light .card>h3{background:rgba(15,23,42,.04)}
.section{padding:14px}
.section h3{display:flex;align-items:center;gap:8px}
.section h3 img.set-icon{width:24px;height:24px;object-fit:contain;margin-right:6px;vertical-align:middle;filter:drop-shadow(0 0 2px rgba(0,0,0,.25));}

/* Filtres */
.filters{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;padding:12px}
.col{display:flex;flex-direction:column;gap:6px}
.col.span-2{grid-column:span 2}
label{font-size:12px;color:var(--muted)}
input[type="text"],select,input[type="range"]{
  appearance:none;width:100%;
  border:1px solid var(--ring);border-radius:12px;background:var(--panel);
  padding:10px 12px;color:var(--ink);outline:none;
}
input:focus,select:focus{box-shadow:0 0 0 3px #7c3aed35;border-color:var(--primary)}

/* Dropdown rareté */
.multi{position:relative}
.multi-btn{
  width:100%;padding:10px 12px;border:1px solid var(--ring);border-radius:12px;
  background:var(--panel);color:var(--ink);cursor:pointer;text-align:left;
}
.multi-panel{
  position:absolute;left:0;right:0;top:calc(100% + 6px);
  border:1px solid var(--ring);border-radius:14px;background:rgba(15,23,42,.96); color:#e6eaf2;
  padding:10px;box-shadow:0 20px 60px rgba(0,0,0,.35);z-index:5;
}
.theme-light .multi-panel{
  background:rgba(255,255,255,.97);
  color:var(--ink);
  border-color:rgba(15,23,42,.14);
  box-shadow:0 22px 48px rgba(15,23,42,.14);
}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chips .chip{font-size:12px;border:1px solid #ffffff20;color:#eef2ff;border-radius:999px;padding:6px 10px;background:#ffffff10}
.theme-light .multi-panel .chip{
  color:var(--ink);
  border-color:rgba(15,23,42,.16);
  background:rgba(15,23,42,.05);
}
.multi-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
.link{background:transparent;border:0;color:#86e6f5;cursor:pointer}

/* Grilles génériques */
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
@media (max-width:1100px){ .grid{grid-template-columns:repeat(4,1fr)} }
@media (max-width:900px){ .filters{grid-template-columns:repeat(3,1fr)} }
@media (max-width:840px){ .grid{grid-template-columns:repeat(3,1fr)} .filters{grid-template-columns:repeat(2,1fr)} }
@media (max-width:640px){ .grid{grid-template-columns:repeat(2,1fr)} }

/* Items (cartes / scellés / gradées) */
#cards-root .item,#sealed-root .item,#graded-root .item{
  border:1px solid var(--ring); border-radius:16px; padding:10px; background:var(--panel);
  transition:transform .18s ease, box-shadow .25s ease; box-shadow:var(--elev1);
}
#cards-root .item:hover,#sealed-root .item:hover,#graded-root .item:hover{transform:translateY(-3px); box-shadow:var(--elevHover)}
#cards-root .thumb,#sealed-root .thumb,#graded-root .thumb{border-radius:12px; overflow:hidden; background:#f1f5f9}
#cards-root img,#sealed-root img,#graded-root img{display:block; width:100%; border-radius:12px}

/* Holo subtil */
#cards-root .thumb{position:relative}
#cards-root .thumb::after{
  content:""; position:absolute; inset:-40% -20%;
  background:conic-gradient(from 0deg, transparent 0 20%, rgba(255,255,255,.25) 25%, transparent 30% 100%);
  transform:rotate(12deg); animation:holo 3.5s linear infinite; mix-blend-mode:screen; opacity:.35; pointer-events:none;
}
@keyframes holo{to{transform:rotate(372deg)}}

/* Métadonnées carte (compact) */
#cards-root .meta.compact{ text-align:center; padding:8px 4px 4px }
#cards-root .meta .title{font-weight:700;font-size:15px;margin:4px 0 2px}
#cards-root .meta .subline{font-size:12px;color:var(--muted);margin-bottom:6px}
#cards-root .meta .foot{display:flex;justify-content:center;align-items:center;gap:6px;flex-wrap:wrap;font-size:12px}
#cards-root .meta .qty,#cards-root .meta .rarity,#cards-root .meta .badges,#cards-root .meta .price{
  display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;border:1px solid var(--ring);background:var(--chip-bg);font-size:11px;font-weight:600
}

#cards-root.list-mode .section .grid{display:none}
.list-view{display:flex;flex-direction:column;gap:8px}
.list-row{display:grid;grid-template-columns:92px minmax(0,1fr) 160px;gap:16px;align-items:center;border:1px solid var(--ring);border-radius:16px;padding:10px 14px;background:var(--panel);box-shadow:var(--elev1);transition:transform .18s ease, box-shadow .25s ease}
.list-row:hover{box-shadow:var(--elevHover);transform:translateY(-2px)}
.list-thumb{width:92px;height:92px;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#111827}
.list-thumb img{width:100%;height:100%;object-fit:cover;border-radius:12px}
.list-row.sealed-row{grid-template-columns:130px minmax(0,1fr) 180px}
.list-row.sealed-row .list-thumb{width:130px;height:96px;background:#111827}
.theme-light .list-row.sealed-row .list-thumb{background:#e2e8f0}
.list-row.sealed-row .list-thumb img{object-fit:cover}
.list-row.graded-row{grid-template-columns:120px minmax(0,1fr) 180px}
.list-row.graded-row .list-thumb{width:120px;height:160px;background:#0b1222}
.theme-light .list-row.graded-row .list-thumb{background:#e2e8f0}
.list-row.graded-row .list-thumb img{object-fit:contain}
#sealed-root.list-mode .list-row,#graded-root.list-mode .list-row{align-items:center}
.list-meta .grade{font-size:13px;font-weight:700}
.list-info{display:flex;flex-direction:column;gap:4px}
.list-info .name{font-weight:700;font-size:15px}
.list-info .num{font-size:12px;color:var(--muted)}
.list-tags{display:flex;flex-wrap:wrap;gap:6px;font-size:11px}
.list-tags .chip{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid var(--ring);background:var(--chip-bg);font-weight:600}
.list-meta{display:flex;flex-direction:column;gap:6px;text-align:right}
.list-meta .qty{font-size:13px;font-weight:700}
.list-meta .price{font-size:12px;color:var(--muted)}
.chip.muted{opacity:.65;color:var(--muted)}
.chip-graded{border-color:#facc15;background:rgba(250,204,21,.12);color:#facc15}
.tag-graded{margin-left:8px;padding:2px 8px;border-radius:999px;border:1px solid rgba(250,204,21,.4);background:rgba(250,204,21,.12);color:#facc15;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.05em}

#cards-root .meta .price{color:var(--accent)}
#cards-root .meta .badges .ball{width:10px;height:10px;border-radius:999px}

@media (max-width:720px){
  .list-row{grid-template-columns:92px minmax(0,1fr);grid-auto-rows:auto}
  .list-row.sealed-row,.list-row.graded-row{grid-template-columns:100px minmax(0,1fr)}
  .list-row .list-meta{grid-column:1 / -1;text-align:left;align-items:flex-start}
}

/* ===================== Selects avec icônes (séries) ===================== */
.si{position:relative}
.si-button{
  width:100%;padding:10px 12px;border:1px solid var(--ring);border-radius:12px;
  background:var(--panel);color:var(--ink);cursor:pointer;text-align:left;
  display:flex;align-items:center;gap:8px;
}
.si-button .set-icon{width:16px;height:16px;object-fit:contain}
.si-panel{
  position:absolute;left:0;right:0;top:calc(100% + 6px);
  border:1px solid var(--ring);border-radius:12px;
  background:rgba(15,23,42,.96); color:#e6eaf2;
  box-shadow:0 20px 60px rgba(0,0,0,.45);z-index:8;max-height:280px;overflow:auto;
  backdrop-filter: blur(8px);
}
.theme-light .si-panel{
  background:rgba(255,255,255,.98);
  color:var(--ink);
  border-color:rgba(15,23,42,.14);
  box-shadow:0 18px 44px rgba(15,23,42,.16);
}
.si-option{display:flex;align-items:center;gap:8px;width:100%;padding:8px 10px;border:0;background:transparent;cursor:pointer;text-align:left;color:#e6eaf2}
.si-option:hover{background:rgba(255,255,255,.08)}
.theme-light .si-option{color:var(--ink)}
.theme-light .si-option:hover{background:rgba(15,23,42,.08)}
.si-option .set-icon{width:16px;height:16px;object-fit:contain}

/* ===================== Stats: icône de set dans le titre ===================== */
#stats-root .s-head .s-title{display:inline-flex;align-items:center;gap:8px}
#stats-root .s-head .s-title .set-icon{width:20px;height:20px;object-fit:contain}

/* Titre de section (évite que le hint parte à droite) */
.section h3 .s-title-text{ display:inline-flex; align-items:baseline; gap:6px }
.ball.red{background:#ef4444}.ball.yellow{background:#f59e0b}.ball.blue{background:#3b82f6}

/* Icônes de rareté */
.rarity{display:inline-flex;align-items:center}
.rarity svg{width:16px;height:16px}
#cards-root .rarity-label{display:none !important}

/* ===================== MODALE ===================== */
.modal{position:fixed;inset:0;background:rgba(11,16,32,.65);backdrop-filter:blur(8px);display:none;place-items:center;z-index:50}
.modal.open{display:grid}
.modal img{max-width:min(90vw,900px);max-height:80vh;border-radius:16px;border:1px solid var(--ring);box-shadow:0 20px 80px rgba(0,0,0,.6)}
.modal .close{position:absolute;top:24px;right:24px;border:1px solid var(--ring);background:#ffffff10;color:#e6eaf2;padding:8px 10px;border-radius:999px;cursor:pointer}

/* ===================== SLIDER NOTE (gradées) ===================== */
.slider-row{display:flex;align-items:center;gap:10px}
.badge,.badge-value{
  display:inline-flex;align-items:center;justify-content:center;
  padding:4px 10px;border-radius:999px;font-size:12px;font-weight:700;
  border:1px solid var(--ring); background:var(--chip-bg); color:var(--ink); min-width:36px;
}
input[type="range"]{ -webkit-appearance:none; appearance:none; width:100%; height:6px; border-radius:999px; background:linear-gradient(90deg,var(--accent),var(--primary)); cursor:pointer }
input[type="range"]::-webkit-slider-runnable-track{ height:6px; border-radius:999px; background:linear-gradient(90deg,var(--accent),var(--primary)) }
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%;
  border:2px solid #fff; background:var(--accent); box-shadow:0 0 8px var(--accent); margin-top:-6px;
  transition:transform .2s ease, background .2s ease, box-shadow .2s ease;
}
input[type="range"]::-webkit-slider-thumb:hover{ transform:scale(1.15); background:var(--primary); box-shadow:0 0 10px var(--primary) }
input[type="range"]::-moz-range-track{ height:6px; border-radius:999px; background:linear-gradient(90deg,var(--accent),var(--primary)) }
input[type="range"]::-moz-range-thumb{
  width:18px;height:18px;border-radius:50%;border:2px solid #fff;background:var(--accent);box-shadow:0 0 8px var(--accent);
  transition:transform .2s ease, background .2s ease, box-shadow .2s ease;
}
input[type="range"]::-moz-range-thumb:hover{ transform:scale(1.15); background:var(--primary); box-shadow:0 0 10px var(--primary) }

/* ===================== GRADÉES ===================== */
#graded-root .grid{grid-template-columns:repeat(4,minmax(0,1fr));gap:14px}
@media (max-width:1100px){#graded-root .grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:820px){#graded-root .grid{grid-template-columns:repeat(2,1fr)}}

.g-item{border:1px solid var(--ring);border-radius:16px;background:var(--panel);box-shadow:var(--elev2);overflow:hidden;transition:.18s transform,.25s box-shadow}
.g-item:hover{transform:translateY(-3px);box-shadow:var(--elevHover)}
.g-thumb{position:relative;padding-top:140%; background:#0f172a10}
.theme-dark .g-thumb{background:#ffffff08}
.g-thumb img{position:absolute; inset:8px; width:calc(100% - 16px); height:calc(100% - 16px); object-fit:contain; border-radius:12px; background:#00000010}
.g-meta{padding:10px 12px 12px}
.g-title{font-weight:800;font-size:14px;line-height:1.2}
.g-sub{color:var(--muted);font-size:12px;margin-top:2px}
.g-foot{margin-top:8px;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.chip{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;font-size:12px;font-weight:700;border:1px solid var(--ring);background:var(--chip-bg);color:var(--ink)}
.chip .psa rect:first-child{fill:#e11d48}.chip .psa rect:last-child{fill:#2563eb}
.chip .pca polygon{fill:#ffffff;stroke:#D41F1F}
.chip .bgs path{fill:currentColor}.chip .cgc polygon{fill:#22d3ee}

/* ===================== SCELLÉS ===================== */
.sealed-grid{grid-template-columns:repeat(3, minmax(0,1fr)); gap:14px}
@media (max-width:1100px){ .sealed-grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:700px){ .sealed-grid{grid-template-columns:1fr} }

.sealed-card{border:1px solid var(--ring);border-radius:16px;background:var(--panel);box-shadow:var(--elev2);overflow:hidden;transition:transform .18s ease, box-shadow .25s ease}
.sealed-card:hover{transform:translateY(-3px);box-shadow:var(--elevHover)}
.sealed-thumb{position:relative;aspect-ratio:16/9;background:#0b1222;display:grid;place-items:center;padding:10px}
:root .sealed-thumb{background:#f1f5f9}
.sealed-thumb img{width:100%;height:100%;object-fit:cover;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.25)}
.sealed-meta{padding:10px;text-align:center}
.sealed-title{display:none}
.sealed-sub{font-size:12px;color:var(--muted);margin-top:2px}
.sealed-sub.top{margin-bottom:8px}
.sealed-chips{margin-top:8px;display:flex;flex-wrap:wrap;gap:6px;justify-content:center}
.sealed-chips.single{justify-content:center}

/* ===================== STATS — néon + barres uniformes + anim ===================== */
#stats-root{
  --bar-bg: rgba(255,255,255,.08);
  --bar-grad: linear-gradient(90deg,var(--accent),var(--primary));
}

/* Conteneur séries */
#stats-root .series{
  border:1px solid var(--ring);
  background:var(--panel);
  border-radius:14px;
  overflow:hidden;
  margin-bottom:16px;
  box-shadow:var(--elev2);
}
#stats-root .s-head{
  display:grid;
  grid-template-columns: 220px 1fr 120px; /* libellé | barre | méta droite (uniformise les longueurs) */
  align-items:center;
  gap:12px;
  padding:12px;
  cursor:pointer;
}
#stats-root .s-title{ font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
#stats-root .s-meta{
  min-width:120px;
  text-align:right;
  font-size:12px;
  color:var(--muted);
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1, "lnum" 1;
}
#stats-root .s-body{ display:none; border-top:1px solid var(--ring); padding:12px; background:rgba(255,255,255,.04) }
#stats-root .series.open .s-body{ display:block }

/* Grille cartes stats */
#stats-root .grid{ display:grid; gap:16px }
@media (min-width:900px){ #stats-root .grid{ grid-template-columns:1.2fr .8fr } }

/* Cards */
#stats-root .card{
  border:1px solid var(--ring);
  background:var(--panel);
  border-radius:12px;
  overflow:hidden;
  margin-bottom:12px;
  box-shadow:var(--elev2);
}
#stats-root .card h3{
  margin:0; font-size:14px; padding:10px;
  border-bottom:1px solid var(--ring);
  border-radius:12px 12px 0 0;
}
#stats-root .card.progression h3{ background:linear-gradient(90deg,#1b3b55,#132238); color:#a8e9ff }
#stats-root .card.missing    h3{ background:linear-gradient(90deg,#3d2d10,#2a1f0b); color:#ffd59a }
#stats-root .card.value      h3{ background:linear-gradient(90deg,#0f3a43,#0d2b32); color:#9be8f3 }
#stats-root .card.actions    h3{ background:#111827; color:#cbd5e1 }
#stats-root .card.top        h3{ background:linear-gradient(90deg,#0f3b1f,#0b2a16); color:#b7f7cf }
#stats-root .card .content{ padding:10px }

/* Barre néon — même longueur partout + animation d’apparition */
#stats-root .progress{
  width:100%;
  height:12px;
  border-radius:999px;
  overflow:hidden;
  background:var(--bar-bg);
  border:1px solid var(--ring);
}
#stats-root .progress > span{
  display:block;
  height:100%;
  width:var(--w,0%);                 /* ou style="width:80%" posé par le JS */
  background:var(--bar-grad);
  transform-origin:left;
  transform:scaleX(0);               /* caché au départ */
  animation:barReveal .8s cubic-bezier(.22,.9,.26,1) forwards;
}
@keyframes barReveal{ to{ transform:scaleX(1); } }

/* Listes / chips / légendes */
#stats-root .list{ display:flex; flex-wrap:wrap; gap:8px }
#stats-root .pill{ border:1px solid var(--ring); border-radius:999px; background:var(--chip-bg); padding:6px 10px; display:inline-flex; gap:6px; align-items:center }
#stats-root .pill--sm{ padding:4px 8px; font-size:12px }
#stats-root .toolbar{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:6px }
#stats-root .btn{ background:var(--panel); border:1px solid var(--ring); border-radius:999px; padding:6px 10px; cursor:pointer }
#stats-root .btn[aria-pressed="true"]{ background:linear-gradient(90deg,var(--accent),var(--primary)); border-color:transparent; color:#0b1020 }

#stats-root .tiles{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:10px }
#stats-root .tile{ border:1px solid var(--ring); border-radius:10px; padding:10px; background:var(--panel); cursor:pointer; transition:box-shadow .2s,border-color .2s }
#stats-root .tile b{ display:block; font-size:20px; line-height:1.2; margin-top:4px; font-variant-numeric:tabular-nums; font-feature-settings:"tnum" 1,"lnum" 1 }
#stats-root .tile[aria-current="true"]{ border-color:var(--accent); box-shadow:0 0 0 2px rgba(34,211,238,.15) }

#stats-root .seg{ display:flex; gap:10px; align-items:center; margin-top:6px; flex-wrap:nowrap }
#stats-root .seg .ball{ flex:0 0 14px; width:14px; height:14px; border-radius:50%; border:1px solid rgba(0,0,0,.15); position:relative }
#stats-root .seg span{ white-space:nowrap; font-variant-numeric:tabular-nums; font-feature-settings:"tnum" 1,"lnum" 1 }
#stats-root .muted{ color:var(--muted) }
#stats-root .num{ font-variant-numeric:tabular-nums; font-feature-settings:"tnum" 1,"lnum" 1 }

#stats-root .chips{ display:flex; gap:8px; flex-wrap:wrap }
#stats-root .top-list{ display:flex; flex-wrap:wrap; gap:8px }

#stats-root .ball::before,
#stats-root .ball::after{ content:none }
#stats-root .ball.n{ background:#ef4444 }  /* normal */
#stats-root .ball.r{ background:#eab308 }  /* reverse */
#stats-root .ball.a{ background:#3b82f6 }  /* alt */

#stats-root .psa-ico{ display:inline-block; width:24px; height:12px; border:1px solid var(--ring); border-radius:3px; position:relative; background:linear-gradient(90deg,#ef4444 0 28%,transparent 28%) }
#stats-root .psa-ico::after{ content:'PSA'; position:absolute; right:3px; top:50%; transform:translateY(-50%); font-size:10px; font-weight:800; letter-spacing:.5px; color:#1f2937 }

#stats-root .donut{ display:flex; flex-direction:column; align-items:center; gap:6px; margin-top:12px }
#stats-root .mini-legend{ display:flex; gap:10px; font-size:12px; color:var(--muted); align-items:center }
#stats-root .mini-legend .ball{ width:10px; height:10px }
#stats-root svg.donut{ max-width:140px }

#stats-root [hidden]{ display:none !important }

/* === STATS: progress bar (uniform + animated, resilient) === */

/* head line stays uniform: [label | bar | meta] */
#stats-root .s-head{
  display:grid;
  grid-template-columns: 220px 1fr 120px;
  align-items:center;
  gap:12px;
}

/* track */
#stats-root .progress{
  position:relative;
  width:100%;
  height:12px;
  border-radius:999px;
  overflow:hidden;
  background:rgba(255,255,255,.08);
  border:1px solid var(--ring);
}

/* FILLER — catch ANY direct child (<span> or <i>) */
#stats-root .progress > *{
  display:block;
  height:100%;
  width:var(--w, auto);                 /* width is still set inline by JS */
  background:linear-gradient(90deg,var(--accent),var(--primary));
  transform-origin:left;
  transform:scaleX(0);                  /* start collapsed */
  /* DO NOT set animation here; inline animation wins.
     We only provide the keyframes below. */
}

/* Inline animation references this name: make it exist */
@keyframes stats-fill{
  from { transform:scaleX(0); }
  to   { transform:scaleX(1); }
}

/* ===== Harmonize card chips (rarity / qty / types / price) ===== */

/* Turn the meta footer into a 5‑column grid:
   [rarity] [qty] [types] [spacer] [price] */
#cards-root .meta .foot{
  display:grid;
  grid-template-columns: 32px 48px 64px 1fr 72px; /* tweak widths if needed */
  align-items:center;
  gap:8px;
}

/* Flatten the .left wrapper so its children participate in the grid */
#cards-root .meta .left{ display:contents; }

/* Shared pill baseline so all chips have the same height/vertical rhythm */
#cards-root .meta .rarity,
#cards-root .meta .qty,
#cards-root .meta .badges,
#cards-root .meta .price{
  height:24px;
  padding:0 8px;
  line-height:24px;            /* perfect vertical centering for text */
  border-radius:999px;
  border:1px solid var(--ring);
  background:var(--chip-bg);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:11px;
  font-weight:600;
  gap:6px;
}

/* Slot-specific sizing so the pills look consistent across cards */
#cards-root .meta .rarity{
  grid-column:1;
  width:32px;                  /* fixed circle-ish pill */
  padding:0;
}
#cards-root .meta .rarity svg{ width:14px; height:14px }

#cards-root .meta .qty{
  grid-column:2;
  min-width:48px;              /* x1 / x12 stay aligned */
  font-variant-numeric:tabular-nums;
  font-feature-settings:"tnum" 1,"lnum" 1;
}

#cards-root .meta .badges{
  grid-column:3;
  width:64px;                  /* room for 1–3 dots, always centered */
  padding:0 6px;
  gap:6px;
}
#cards-root .meta .badges .ball{ width:8px; height:8px; border-radius:999px }

#cards-root .meta .price{
  grid-column:5;
  min-width:72px;              /* € values line up */
  color:var(--accent);
  font-variant-numeric:tabular-nums;
  font-feature-settings:"tnum" 1,"lnum" 1;
  justify-self:end;            /* hugs the right side of its slot */
}

/* Optional: keep icons/text crisp */
#cards-root .meta .rarity svg,
#cards-root .meta .badges .ball{ flex:0 0 auto }

/* Fix centrage global après harmonisation des chips */
#cards-root .meta .foot {
  width: 100%;               /* occupe toute la largeur du conteneur meta */
  box-sizing: border-box;    /* garde les marges internes correctes */
  justify-items: center;     /* centre les éléments dans la grille */
}

/* Option : si la carte reste décalée, forcer la grille parent à garder un alignement centré */
#cards-root .grid {
  justify-content: center;   /* centre toutes les cartes horizontalement */
}

/* === Rareté : largeur auto quand plusieurs icônes ======================= */
/* La première colonne de la ligne meta accepte la largeur du contenu */
#cards-root .meta .foot{
  grid-template-columns: minmax(32px, max-content) 48px 64px 1fr 72px;
}

/* Pill de rareté — base : rond pour 1 icône */
#cards-root .meta .rarity{
  width:32px;                 /* 1 icône = rond */
  padding:0;
  gap:4px;
  justify-content:center;
}
#cards-root .meta .rarity svg{ width:14px; height:14px }

/* 2 icônes → on laisse la largeur s’étirer et on met un léger padding */
#cards-root .meta .rarity:has(svg + svg){
  width:auto;
  padding:0 6px;
}

/* 3 icônes → un peu plus d’air */
#cards-root .meta .rarity:has(svg + svg + svg){
  padding:0 8px;
}

/* === Rareté "Promo" : symbole P néon ==================================== */
/* Ajoute la classe .promo sur l’élément .rarity côté HTML quand la carte est promo */
#cards-root .meta .rarity.promo{
  width:auto;
  padding:0 10px;
  color:var(--accent);
  font-weight:800;
  letter-spacing:.5px;
  text-shadow:
    0 0 6px color-mix(in srgb, var(--accent) 70%, transparent),
    0 0 14px color-mix(in srgb, var(--accent) 40%, transparent);
}
#cards-root .meta .rarity.promo::before{
  content:"P";
}
#cards-root .meta .rarity.promo svg{ display:none; }  /* s’il y avait une icône, on la masque */

/* === Chips: keep rarity from overlapping when ★★ / ★★★ === */

/* give the rarity column a bit more room */
#cards-root .meta .foot{
  grid-template-columns: 56px 48px 64px 1fr 72px; /* was 32px … */
}

/* rarity pill: fixed width, no wrap, centered */
#cards-root .meta .rarity{
  grid-column: 1;
  width: 56px;              /* enough for ★★★ */
  min-width: 56px;
  height: 24px;
  padding: 0 6px;
  white-space: nowrap;      /* prevent wrap -> no overlap */
  overflow: hidden;
  text-overflow: clip;
  text-align: center;
  line-height: 24px;        /* perfect vertical centering */
  font-size: 12px;          /* slightly smaller than other chips */
  letter-spacing: -0.2px;   /* stars packed a bit tighter */
}

/* if you render stars as SVGs/spans, pack them a touch tighter */
#cards-root .meta .rarity svg,
#cards-root .meta .rarity .star{
  width: 12px; height: 12px;
  margin: 0 -1px;           /* visually condense ★★ / ★★★ */
  flex: 0 0 auto;
}

/* if three stars are present (CSS-only heuristic using :has) */
#cards-root .meta .rarity:has(.star + .star + .star),
#cards-root .meta .rarity:has(svg + svg + svg){
  font-size: 11px;          /* tiny shrink so ★★★ never spills */
  letter-spacing: -0.4px;
}

/* Assure un positionnement possible de l’overlay dans l'image */
.thumb { position: relative; }

/* ==== Ruban diagonal GRADÉE — centré + néon ==== */
#cards-root .thumb{ position: relative; } /* (déjà présent chez toi, on le rappelle) */

.ribbon-graded{
  position:absolute;
  /* petits custom props pour ajuster facilement si besoin */
  --rot: -36deg;         /* angle du ruban */
  --offset-x: -46px;     /* décalage gauche (négatif = sort un peu) */
  --offset-y: 12px;      /* décalage vertical */
  top: var(--offset-y);
  left: var(--offset-x);
  transform: rotate(var(--rot));
  z-index: 3;
  pointer-events: none;
}

.ribbon-graded > span{
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;          /* <<< centre le texte */
  height: 28px;
  min-width: 180px;                  /* largeur stable = centrage visuel OK */
  padding: 0 18px;
  font: 800 12px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: #ffffff;                    /* texte sombre lisible sur néon */
  border: 1.5px solid color-mix(in srgb, var(--primary) 50%, #000 40%);
  background: linear-gradient(90deg, var(--accent), var(--primary)); /* <<< néon */
  box-shadow:
    0 0 0 1px rgba(0,0,0,.25) inset,
    0 6px 18px color-mix(in srgb, var(--accent) 35%, transparent),
    0 8px 26px color-mix(in srgb, var(--primary) 30%, transparent);
  /* bouts biseautés propres (évite l'effet "bande rectangulaire") */
  clip-path: polygon(6% 0, 100% 0, 94% 100%, 0 100%);
}

/* highlight doux sur le ruban */
.ribbon-graded > span::after{
  content:"";
  position:absolute; inset:0;
  background:
    linear-gradient(to bottom, rgba(255,255,255,.25), transparent 40%),
    linear-gradient(to top, rgba(0,0,0,.12), transparent 60%);
  mix-blend-mode: soft-light;
  pointer-events:none;
}

/* petit éclat néon autour de l’image quand gradée (optionnel mais joli) */
.item:has(.ribbon-graded) .thumb{
  box-shadow: 0 0 0 2px rgba(255,255,255,.05) inset,
              0 0 28px color-mix(in srgb, var(--accent) 25%, transparent);
  border-radius: 12px;
}

/* Chip prix pour les gradées */
.g-foot .chip-price{
  color: var(--accent);
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1, "lnum" 1;
  /* optionnel : léger glow néon */
  text-shadow: 0 0 8px color-mix(in srgb, var(--accent) 40%, transparent);
}

/* Ensure grading icons in chips are visible and aligned */
.g-foot .chip svg{ 
  width:16px; height:16px; 
  flex:0 0 auto; 
  display:inline-block; 
  vertical-align:middle;
}
.g-foot .chip svg.psa{ width:24px; height:12px } /* special PSA aspect ratio */
.g-foot .chip b{ margin-left:4px }                /* a little spacing after the icon */

.chip-price{
  color: var(--accent);
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1, "lnum" 1;
}

/* ===================== CONTACT ===================== */
.contact-section{padding:0 16px 40px}
.contact-card{max-width:820px;margin:0 auto;border:1px solid var(--ring);border-radius:20px;background:var(--panel);box-shadow:var(--elev2);padding:24px}
.contact-card h3{margin:0 0 8px;font-size:20px}
.contact-card p{margin:0 0 18px;color:var(--muted)}
.contact-form{display:grid;gap:16px}
.contact-row{display:flex;flex-direction:column;gap:6px}
.contact-row label{font-size:13px;color:var(--muted)}
.contact-form input,.contact-form textarea{
  border:1px solid var(--ring);border-radius:12px;background:var(--panel);
  padding:12px;color:var(--ink);font-size:14px;outline:none;resize:vertical;min-height:48px;
}
.contact-form input:focus,.contact-form textarea:focus{box-shadow:0 0 0 3px #7c3aed35;border-color:var(--primary)}
.contact-row--full textarea{min-height:140px}
.contact-actions{display:flex;flex-wrap:wrap;gap:12px;align-items:center}
.contact-actions .btn{min-width:150px;justify-content:center}
