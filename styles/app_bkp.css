/* ============ THEME (clair par défaut) ============ */
:root{
  --bg:#f6f8fb;
  --panel:#ffffffcc;
  --ink:#0f172a;
  --muted:#64748b;
  --ring:#e2e8f0;

  --primary:#7c3aed;   /* violet néon */
  --accent:#22d3ee;    /* cyan néon */
  --ok:#10b981;        /* vert */
  --warn:#f59e0b;
}

*{box-sizing:border-box}
html,body{margin:0; min-height:100%}
body{
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  background:var(--bg); color:var(--ink);
  overflow-y:auto;
}

/* --- FX de fond (dégradés néon) --- */
.bgfx{
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1200px 800px at 12% -18%, #ff2d8930 0%, transparent 35%),
    radial-gradient(1000px 800px at 108% 6%, #22d3ee30 0%, transparent 40%),
    radial-gradient(900px 700px at 50% 120%, #7c3aed30 0%, transparent 45%);
  filter:blur(60px) saturate(120%);
  opacity:.8;
}

/* ============ HEADER ============ */
header{
  position:sticky; top:0; z-index:20;
  background:linear-gradient(to bottom, rgba(11,16,32,.85), rgba(11,16,32,.6));
  border-bottom:1px solid #00000020;
  backdrop-filter:blur(10px);
}
.wrap{max-width:1150px;margin:auto;padding:12px 16px;display:flex;gap:12px;align-items:center}
.brand{display:flex;align-items:center;gap:10px}
.logo{width:24px;height:24px;border-radius:8px;background:conic-gradient(from 20deg,#ff2d89,#22d3ee,#7c3aed,#ff2d89);box-shadow:0 0 24px rgba(124,58,237,.45)}
h1{font-size:18px;margin:0;color:#eef2ff}
.bar{display:flex;gap:8px;margin-left:auto}
.btn{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid var(--ring);border-radius:999px;
  padding:9px 12px;cursor:pointer;
  background:#ffffff10;color:#eef2ff;
  transition:transform .15s ease, box-shadow .2s ease, background .2s ease;
}
.btn:hover{transform:translateY(-1px);box-shadow:0 10px 30px rgba(34,211,238,.18)}
.btn.primary{border:0;background:linear-gradient(90deg, var(--primary), #ff2d89);box-shadow:0 10px 30px rgba(124,58,237,.30)}
.btn.ghost{background:transparent}

/* ============ HERO 2025 ============ */
.hero-2025{padding:32px 16px 8px}
.hero-inner{max-width:1150px;margin:0 auto;display:grid;grid-template-columns:1.15fr .85fr;gap:22px}
.hero-col h2{font-size:36px;line-height:1.15;margin:0 0 6px}
.txt-gradient{background:linear-gradient(90deg,var(--accent),var(--primary));-webkit-background-clip:text;background-clip:text;color:transparent}
.hero-col .lede{color:var(--muted);max-width:60ch;margin:8px 0 14px}
.hero-ctas{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:8px}
.trust{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
.pill{border:1px solid var(--ring);border-radius:999px;padding:8px 12px;background:#fff;opacity:.9}
.pill{background:var(--panel)} /* en clair, panel léger */

.kpis{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
.kpi{border:1px solid var(--ring);background:#fff;border-radius:16px;padding:14px;box-shadow:0 8px 24px rgba(2,6,23,.06)}
.kpi .lbl{font-size:12px;color:var(--muted)}
.kpi .val{font-size:22px;font-weight:800}
.kpi .sub{font-size:12px;color:var(--muted)}
@media (max-width:1000px){ .hero-inner{grid-template-columns:1fr} }

/* ============ TABS ============ */
.tabs{max-width:1150px;margin:14px auto 0;display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:0 16px}
.tab{
  padding:12px;border:1px solid var(--ring);border-radius:12px;
  background:#fff;text-align:center;cursor:pointer;user-select:none;
  color:var(--ink);transition:.2s ease; box-shadow:0 2px 8px rgba(2,6,23,.05)
}
.tab:hover{box-shadow:0 8px 20px rgba(34,211,238,.12)}
.tab.active{background:linear-gradient(90deg,var(--accent),var(--primary));color:#0b1020;border-color:transparent;font-weight:600}

/* ============ PANELS / CARDS ============ */
.panel{max-width:1150px;margin:14px auto;padding:0 16px}
.card{
  border:1px solid var(--ring);border-radius:18px;background:#fff;
  box-shadow:0 8px 26px rgba(2,6,23,.06);
}
.card>h3{margin:0;padding:12px 14px;border-bottom:1px solid var(--ring);font-size:14px;background:#fafcff;border-radius:18px 18px 0 0}
.section{padding:14px}

/* Filtres */
.filters{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:12px}
.col{display:flex;flex-direction:column;gap:6px}
.col.span-2{grid-column:span 2}
label{font-size:12px;color:var(--muted)}
input[type="text"], select, input[type="range"]{
  appearance:none;width:100%;
  border:1px solid var(--ring);border-radius:12px;background:#fff;
  padding:10px 12px;color:var(--ink);outline:none;
}
input:focus, select:focus{box-shadow:0 0 0 3px #7c3aed35;border-color:var(--primary)}

/* Dropdown rareté */
.multi{position:relative}
.multi-btn{
  width:100%;padding:10px 12px;border:1px solid var(--ring);border-radius:12px;
  background:#fff;color:var(--ink);cursor:pointer;text-align:left;
}
.multi-panel{
  position:absolute;left:0;right:0;top:calc(100% + 6px);
  border:1px solid var(--ring);border-radius:14px;background:#0f172a; color:#e6eaf2;
  padding:10px;box-shadow:0 20px 60px rgba(0,0,0,.35);z-index:5;
}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chips .chip{
  font-size:12px;border:1px solid #ffffff20;color:#eef2ff;border-radius:999px;padding:6px 10px;background:#ffffff10
}
.multi-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
.link{background:transparent;border:0;color:#86e6f5;cursor:pointer}

/* Grilles rendues par le JS */
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
@media (max-width:1100px){ .grid{grid-template-columns:repeat(4,1fr)} }
@media (max-width:840px){ .grid{grid-template-columns:repeat(3,1fr)} .filters{grid-template-columns:1fr 1fr} }
@media (max-width:640px){ .grid{grid-template-columns:repeat(2,1fr)} }

/* Cartes (items) + vignettes */
#cards-root .item, #sealed-root .item, #graded-root .item{
  border:1px solid var(--ring); border-radius:16px; padding:10px; background:#fff;
  transition:transform .18s ease, box-shadow .25s ease;
  box-shadow:0 4px 14px rgba(2,6,23,.06);
}
#cards-root .item:hover, #sealed-root .item:hover, #graded-root .item:hover{
  transform:translateY(-3px); box-shadow:0 14px 36px rgba(34,211,238,.14);
}
#cards-root .thumb, #sealed-root .thumb, #graded-root .thumb{ border-radius:12px; overflow:hidden; background:#f1f5f9 }
#cards-root img, #sealed-root img, #graded-root img{ display:block; width:100%; border-radius:12px }
#cards-root .meta .t{font-weight:700}
#cards-root .meta .s{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:12px}

/* Effet holo subtil sur vignettes (optionnel) */
#cards-root .thumb{ position:relative }
#cards-root .thumb::after{
  content:""; position:absolute; inset:-40% -20%;
  background: conic-gradient(from 0deg, transparent 0 20%, rgba(255,255,255,.25) 25%, transparent 30% 100%);
  transform: rotate(12deg); animation: holo 3.5s linear infinite; mix-blend-mode: screen; opacity: .35;
}
@keyframes holo{ to{ transform: rotate(372deg);} }

/* Icônes de rareté */
.rarity{ display:inline-flex; align-items:center; gap:4px; }
.rarity svg{ width:14px; height:14px; display:inline-block; }
.rarity-label{ margin-left:4px; font-size:12px; color:var(--muted); }
#cards-root .meta .s .rarity{ margin-right:6px; }
#rarityDD .chip label{ display:inline-flex; align-items:center; }
#rarityDD .chip svg{ width:18px; height:18px; }
#rarityDD .chip input{ display:none; }

/* Badges (normale/reverse/alt) si ton template les affiche */
.badges{display:inline-flex;gap:6px;align-items:center}
.ball{width:8px;height:8px;border-radius:999px;display:inline-block;background:#94a3b8}
.ball.red{background:#ef4444}.ball.yellow{background:#f59e0b}.ball.blue{background:#3b82f6}

/* Modal image */
.modal{position:fixed;inset:0;background:rgba(11,16,32,.65);backdrop-filter:blur(8px);display:none;place-items:center;z-index:50}
.modal img{max-width:min(90vw,900px);max-height:80vh;border-radius:16px;border:1px solid var(--ring);box-shadow:0 20px 80px rgba(0,0,0,.4)}
.modal .close{position:absolute;top:24px;right:24px;border:1px solid var(--ring);background:#ffffff10;color:#e6eaf2;padding:8px 10px;border-radius:999px;cursor:pointer}

/* Stats: barres gradient (compat avec stats.css) */
#stats-root .bar, .progress{
  height:10px;border-radius:999px;background:#eef2ff;overflow:hidden;border:1px solid var(--ring)
}
#stats-root .bar>i, .progress>i{display:block;height:100%;background:linear-gradient(90deg,#22d3ee,#7c3aed)}

/* === DARK THEME OVERRIDES === */
.theme-dark{
  --bg:#0b1020;
  --panel:rgba(255,255,255,.06);
  --ink:#e6eaf2;
  --muted:#9aa3b2;
  --ring:rgba(255,255,255,.12);
  color:var(--ink);
  background:var(--bg);
}

/* Fond + texte */
.theme-dark body{ background:var(--bg); color:var(--ink); }

/* Hero */
.theme-dark .pill{ background:var(--panel); color:var(--ink); border-color:var(--ring); }
.theme-dark .kpi{ background:var(--panel); color:var(--ink); border-color:var(--ring); box-shadow:0 8px 24px rgba(0,0,0,.25); }
.theme-dark .kpi .lbl,.theme-dark .kpi .sub{ color:var(--muted); }

/* Tabs */
.theme-dark .tab{ background:var(--panel); color:var(--ink); border-color:var(--ring); box-shadow:none; }
.theme-dark .tab:hover{ box-shadow:0 8px 20px rgba(34,211,238,.12); }
.theme-dark .tab.active{ background:linear-gradient(90deg,var(--accent),var(--primary)); color:#0b1020; border-color:transparent; }

/* Cartes/panels/cards */
.theme-dark .card{ background:var(--panel); color:var(--ink); border-color:var(--ring); box-shadow:0 8px 26px rgba(0,0,0,.25); }
.theme-dark .card>h3{ background:rgba(255,255,255,.08); border-color:var(--ring); }
.theme-dark .section{ color:var(--ink); }

.theme-dark #cards-root .item,
.theme-dark #sealed-root .item,
.theme-dark #graded-root .item{
  background:var(--panel); border-color:var(--ring); box-shadow:0 4px 14px rgba(0,0,0,.25);
}
.theme-dark #cards-root .meta .s{ color:var(--muted); }

/* Inputs / selects / dropdown rareté */
.theme-dark input[type="text"],
.theme-dark select,
.theme-dark input[type="range"],
.theme-dark .multi-btn{
  background:rgba(255,255,255,.06);
  color:var(--ink);
  border-color:var(--ring);
}
.theme-dark input::placeholder{ color:#c7cfdb; }
.theme-dark .multi-panel{
  background:rgba(15,23,42,.96);
  color:#e6eaf2;
  border-color:var(--ring);
}
.theme-dark .chips .chip{
  border-color:#ffffff20;
  color:#eef2ff;
  background:#ffffff10;
}

/* Stats bars */
.theme-dark #stats-root .bar,
.theme-dark .progress{
  background:rgba(255,255,255,.08);
  border-color:var(--ring);
}

/* Modale */
.theme-dark .modal img{ border-color:var(--ring); box-shadow:0 20px 80px rgba(0,0,0,.6); }

/* --- Carte: méta compacte & hiérarchie visuelle --- */
#cards-root .meta.compact{ padding-top:8px }
#cards-root .meta .title{
  font-weight:800; font-size:14px; line-height:1.2;
  margin:2px 0 0;
}
#cards-root .meta .subline{
  color:var(--muted); font-size:12px; margin-top:2px;
}
#cards-root .meta .foot{
  margin-top:6px; display:flex; align-items:center; justify-content:space-between;
}
#cards-root .meta .left{
  display:inline-flex; align-items:center; gap:10px; color:var(--muted); font-size:12px;
}
#cards-root .meta .qty{
  border:1px solid var(--ring); border-radius:999px; padding:2px 6px; font-size:11px;
  background:rgba(255,255,255,.06);
}
#cards-root .meta .price{ font-weight:800; }

/* Petites icônes */
#cards-root .meta .badges .ball{ width:10px; height:10px; }
#cards-root .meta .rarity svg{ width:14px; height:14px; }

/* On masque le libellé textuel de rareté si présent ailleurs */
#cards-root .rarity-label{ display:none !important; }

/* --- Bloc meta cartes stylisé --- */
#cards-root .meta.compact{
  text-align: center;
  padding: 8px 4px 4px;
}

#cards-root .meta .title{
  font-weight: 700;
  font-size: 15px;
  margin: 4px 0 2px;
}

#cards-root .meta .subline{
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 6px;
}

#cards-root .meta .foot{
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  flex-wrap: wrap;
}

/* --- Icônes de rareté --- */
#cards-root .meta .rarity svg{
  width: 16px;
  height: 16px;
  fill: var(--ink) !important; /* forcé clair en sombre */
  stroke: var(--ink) !important;
}

/* Cercle de fond derrière l’icône rareté */
#cards-root .meta .rarity {
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  padding: 3px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Quantité badge */
#cards-root .meta .qty{
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 11px;
  background: rgba(255,255,255,0.08);
  border: 1px solid var(--ring);
  font-weight: 600;
}

/* Prix */
#cards-root .meta .price{
  font-weight: 700;
  color: var(--accent);
}

/* --- Organisation de la ligne meta --- */
#cards-root .meta .foot {
  display: flex;
  justify-content: center;
  gap: 6px;
  flex-wrap: wrap;
}

/* ——— Donne le look "pill" aux éléments déjà présents ——— */
#cards-root .meta .rarity,
#cards-root .meta .qty,
#cards-root .meta .badges,
#cards-root .meta .price{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid var(--ring);
  background:rgba(255,255,255,0.08);
  font-size:11px;
  font-weight:600;
}

/* Prix en évidence */
#cards-root .meta .price{ color:var(--accent); }

/* Groupe "type" (normale/reverse/alt) compact et propre */
#cards-root .meta .badges{ gap:6px; padding:2px 6px; }
#cards-root .meta .badges .ball{ width:10px; height:10px; }

/* Rareté : rendre l’icône lisible en sombre (et homogène avec la pill) */
.theme-dark #cards-root .meta .rarity{ color:#e6eaf2; } /* couleur du pictogramme */
.theme-dark #cards-root .meta .rarity svg path,
.theme-dark #cards-root .meta .rarity svg circle{
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Mise en page de la "foot line" (tout centré) */
#cards-root .meta .foot{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}

/* show the modal when JS adds .open */
.modal.open { display: grid; }

/* let clicks pass through the holographic overlay */
#cards-root .thumb::after { pointer-events: none; }

/* === Graded: grille + carte compacte === */
#graded-root .grid{grid-template-columns:repeat(4,minmax(0,1fr));gap:14px}
@media (max-width:1100px){#graded-root .grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:820px){#graded-root .grid{grid-template-columns:repeat(2,1fr)}}

.g-item{
  border:1px solid var(--ring);
  border-radius:16px;
  background:var(--panel);
  box-shadow:0 6px 18px rgba(2,6,23,.10);
  overflow:hidden;
  transition:.18s transform,.25s box-shadow;
}
.theme-dark .g-item{ box-shadow:0 6px 24px rgba(0,0,0,.25); }
.g-item:hover{ transform:translateY(-3px); box-shadow:0 18px 40px rgba(34,211,238,.16); }

/* vignette contrainte */
.g-thumb{
  position:relative;
  padding-top:140%;           /* ratio ~7:10 (slab) */
  background:#0f172a10;
}
.theme-dark .g-thumb{ background:#ffffff08; }
.g-thumb img{
  position:absolute; inset:8px;
  width:calc(100% - 16px); height:calc(100% - 16px);
  object-fit:contain; border-radius:12px;
  background:#00000010;
}

/* méta */
.g-meta{ padding:10px 12px 12px; }
.g-title{ font-weight:800; font-size:14px; line-height:1.2; }
.g-sub{ color:var(--muted); font-size:12px; margin-top:2px; }
.g-foot{ margin-top:8px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }

/* chips */
.chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:2px 8px; border-radius:999px; font-size:11px; font-weight:600;
  background:rgba(255,255,255,.08); border:1px solid var(--ring); color:var(--ink);
}
.chip b{ font-weight:800 }
.chip em{ font-style:normal; opacity:.9 }

/* logos grading (svg inline) */
.chip svg{ width:16px; height:16px; display:block }
.chip .psa rect:first-child{fill:#e11d48}  /* rouge */
.chip .psa rect:last-child{fill:#2563eb}   /* bleu */
.chip .pca polygon{fill:#ffffff;stroke:#D41F1F} 
.chip .bgs path{fill:currentColor}
.chip .cgc polygon{fill:#22d3ee}

/* --- Range slider moderne + badge valeur --- */
.slider-row{
  display:flex; align-items:center; gap:10px;
}

.badge,
.badge-value{
  display:inline-flex; align-items:center; justify-content:center;
  padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700;
  border:1px solid var(--ring);
  background:rgba(255,255,255,.08);
  color:var(--ink);
  min-width:36px;
}

/* Piste commune */
input[type="range"]{
  -webkit-appearance:none; appearance:none;
  width:100%; height:6px; border-radius:999px; outline:none; cursor:pointer;
  background:linear-gradient(90deg,var(--accent),var(--primary));
}

/* WebKit */
input[type="range"]::-webkit-slider-runnable-track{
  height:6px; border-radius:999px;
  background:linear-gradient(90deg,var(--accent),var(--primary));
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none;
  width:18px; height:18px; border-radius:50%;
  border:2px solid #fff;
  background:var(--accent);
  box-shadow:0 0 8px var(--accent);
  margin-top:-6px;                /* centre le thumb sur la piste */
  transition:transform .2s ease, background .2s ease, box-shadow .2s ease;
}
input[type="range"]::-webkit-slider-thumb:hover{
  transform:scale(1.15); background:var(--primary); box-shadow:0 0 10px var(--primary);
}

/* Firefox */
input[type="range"]::-moz-range-track{
  height:6px; border-radius:999px;
  background:linear-gradient(90deg,var(--accent),var(--primary));
}
input[type="range"]::-moz-range-thumb{
  width:18px; height:18px; border-radius:50%;
  border:2px solid #fff;
  background:var(--accent);
  box-shadow:0 0 8px var(--accent);
  transition:transform .2s ease, background .2s ease, box-shadow .2s ease;
}
input[type="range"]::-moz-range-thumb:hover{
  transform:scale(1.15); background:var(--primary); box-shadow:0 0 10px var(--primary);
}

/* Thème sombre : un poil plus contrasté */
.theme-dark .badge-value{
  background:rgba(255,255,255,.10);
  border-color:var(--ring);
}

/* --- Sealed cards grid --- */
.sealed-grid{
  grid-template-columns:repeat(3, minmax(0,1fr));
  gap:14px;
}
@media (max-width:1100px){ .sealed-grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:700px){ .sealed-grid{grid-template-columns:1fr} }

/* --- Card container --- */
.sealed-card{
  border:1px solid var(--ring);
  border-radius:16px;
  background:var(--panel);
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  overflow:hidden;
  transition:transform .18s ease, box-shadow .25s ease;
}
.sealed-card:hover{
  transform:translateY(-3px);
  box-shadow:0 16px 46px rgba(34,211,238,.18);
}

/* --- Thumb with fixed ratio --- */
.sealed-thumb{
  position:relative;
  aspect-ratio: 16/9;           /* stable height */
  background:#0b1222;
  display:grid; place-items:center;
  padding:10px;
}
.sealed-thumb img{
  width:100%; height:100%; object-fit:cover;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
}

/* --- Meta --- */
.sealed-meta{ padding:10px; text-align:center }
.sealed-title{ display:none; }
.sealed-sub{ font-size:12px; color:var(--muted); margin-top:2px }

/* --- Chips row --- */
.sealed-chips{
  margin-top:8px;
  display:flex; flex-wrap:wrap; gap:6px; justify-content:center;
}
.chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700;
  border:1px solid var(--ring);
  background:rgba(255,255,255,.08);
  color:var(--ink);
}
.chip-ico{ font-size:14px; line-height:1 }
.chip.muted{ color:var(--muted); font-weight:600 }

/* Light theme tweak */
:root .sealed-thumb{ background:#f1f5f9 }

.sealed-sub.top{ margin-bottom:8px; }

.sealed-chips.single{ justify-content:center; }

